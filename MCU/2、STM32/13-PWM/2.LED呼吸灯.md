## 1、<span style="color:brown">LED配置：</span>

**1.1、LED选择：**

根据**定时器复用功能重映射**，`LED1 -> PA6`、`LED2 -> PA5`、`LED3 -> PA4`只有<span style="color:red">`LED1`可用`PWM`控制</span>：

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/STM32_PWM_04.png" alt="image-20251204152817984" style="zoom: 67%;" />

**1.2、Timer3配置：**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/STM32_PWM_05.png" alt="image-20251204153020183" style="zoom:50%;" />



## 2、<span style="color:brown">功能实现：</span>

````c
uint16_t duty = 0;
uint8_t dir = 1; 
HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_1); // 开启PWM
while (1) {
	if(dir == 1) {
        duty++;
    } else {
        duty--;
    }
    if(duty >= htim3.Init.Period) {
        dir = 0;
    } else if(duty == 0) {
        dir = 1;
    }
    __HAL_TIM_SET_COMPARE(&htim3, TIM_CHANNEL_1, duty); // 修改Duty
    HAL_Delay(1); // 控制明暗交替频率
  }
````

