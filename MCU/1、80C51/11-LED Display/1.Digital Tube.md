## 1、<span style="color:brown">组成结构：</span>

**1.1、概述：**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/Digital_Tube01.png" alt="image-20251101141915127" style="zoom:40%;" />

**单个`Digital tube`**本质上由**8个LED**组成，根据**接`GND` 或者 `VCC`**，分为<span style="color:red">共阴极、共阳极</span>：

**1.2、原理示意图：**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/Digital_Tube02.png" alt="image-20251101142345942" style="zoom: 50%;" />

`LED`（发光二极管）**两端存在电压差**，有**一定的电流**流过时，会**亮起**：

- 共**阳**极接法：`LOW_LEVEL`有效；
- 共**阴**极接法：`HIGH_LEVEL`有效（<span style="color:red">板卡采用</span>）；



## 2、<span style="color:brown">控制问题：</span>IO的驱动能力

**2.1、存在问题：**

| 1、IO的驱动能力不够 | 2、IO的数量不够 |
| :-----------------: | :-------------: |

**2.2、驱动能力优化：**

**51单片机的`Pin`输出`Current`**约`1 mA`，一般采用**三极管电路**来增加`IO`的驱动能力。因此，数码管原理图：

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/Digital_Tube03.png" alt="image-20251101144005078" style="zoom:45%;" />

上述布局可以集成到芯片`74HC245`，来增加单片机引脚的驱动能力：

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/Digital_Tube04.png" alt="image-20251101144550333" style="zoom:50%;" />

**2.3、工程代码：**

>  板卡上没有相关电路，代码仅供参考

```c
#include <reg52.h>
// 共阴极接法: 0x00表示全灭
// 表示0-9, A-F
unsigned char table[] = {0x3f, 0x06, 0x5b, 0x4f, 0x66, 0x6d, 0x7d, 0x07, 0x7f, 0x6f, 
                         0x77, 0x7c, 0x39, 0x5e, 0x79, 0x71};
// 延时函数
void delay_ms(unsigned int xms);
// 循环显示0-9, A-F
void main(){
    unsigned char num;
    while(1) {        
        for(num=0;num<10;num++) {
           P2 = table[num];
           delay_ms(500);        
        }
    }
}
```

