# DCL：<span style="color:violet">管理用户、授权</span>

## 1、<span style="color:brown">管理用户：</span>

**1.1、添加用户：**

```sql
create user '用户名'@'主机名' identified by '密码';
```

**1.2、删除用户:**

```sql
drop user '用户名'@'主机名';
```

**1.3、修改用户密码:**

> MySQL中忘记了密码？
>
> 1. cmd （以管理员执行）  -->  net   stop   mysql  【停止MySQL服务】；
> 2. 使用无验证方式启动MySQL服务：`mysql --skip-grant-tables`；
> 3. 重新打开cmd窗口，输入：mysql；
> 4. 使用mysql数据库：use  mysql；
> 5. 修改密码：alter user '用户名'@'主机名' identified by '新密码'，之后在任务管理器关闭mysql服务；
> 6. 重新打开cmd窗口【管理员身份】，输入：net   start  mysql；
> 7. 输入新的密码进行登录；

```sql
# 语法
update user set password = password('新密码') where user = '用户名';
set password for '用户名'@'主机名' = password('新密码');
------------------------------------------------------------------------------------------------------------
# 范例
UPDATE USER SET PASSWORD = PASSWORD('abc') WHERE USER = 'lisi';
SET PASSWORD FOR 'root'@'localhost' = PASSWORD('123'); 
```

**1.4、查询用户：**查询的结果一般会有：本地登录账户、远程登录账户

```sql
//切换到mysql数据库
use mysql;
//查询user表
select * from user;
```



## 2、<span style="color:brown">授权管理：</span>

**2.1、查询权限：**

> SHOW GRANTS FOR 'lisi'@'%';

```sql
show grants for '用户名'@'主机名';
```

**2.2、授予权限：**

> 给张三用户授予所有权限，在任意数据库任意表上
> GRANT ALL ON *.* TO 'zhangsan'@'localhost';

```sql
grant 权限列表 on 数据库名.表名 to '用户名'@'主机名';
```

**2.3、撤销权限：**

> REVOKE UPDATE ON db3.`account` FROM 'lisi'@'%';

```sql
revoke 权限列表 on 数据库名.表名 from '用户名'@'主机名';
```
