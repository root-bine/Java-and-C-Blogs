## 1、<span style="color:brown">功能函数：</span>

**1.1、函数说明：**

````c
HAL_StatusTypeDef HAL_UART_Transmit(UART_HandleTypeDef *  huart,  const uint8_t *  pData,  uint16_t Size,
                                    uint32_t  Timeout) 
 
HAL_StatusTypeDef HAL_UART_Receive(UART_HandleTypeDef *  huart,  uint8_t *  pData,  uint16_t  Size, 
                                   uint32_t  Timeout) 
````

| parameter |                description                |
| :-------: | :---------------------------------------: |
|  `huart`  | <span style="color:red">`UART`句柄</span> |
|  `pData`  |             发送 / 接收的数据             |
|  `Size`   |                数据的大小                 |
| `Timeout` |               发送超时时间                |

**1.2、Timeout说明：**
<span style="color:red">超时时间</span>，单位是`ms`，如果：

- 超过设置的时间，则函数返回`HAL_TIMEOUT`；
- 设置为`HAL_MAX_DELAY`，`CPU`就会一直**等到数据发送完成**再**执行下一条语句**；



## 2、<span style="color:brown">功能实现：</span>

**2.1、USART说明：**

查看`Datasheet`，`PA9`、`PA10`引脚复用为`USART1`，同时<u>两个`GPIO`外接**USB转TTL模块电路**</u>。

**2.2、数据发送：**

````c
"main.c -> while(1)": 
uint8_t str[] = "hello world";
HAL_UART_Transmit(&huart1, str, sizeof(str), 1000);
HAL_Delay(500);
````

烧录进板卡，板卡上集成了**USB转TTL模块**，直接使用**Type-C线缆**连接，打开**串口工具**：

| 开启端口 | 设置波特率和数据格式 | 设置接收和发送的数据类型 |
| :------: | :------------------: | :----------------------: |

**2.3、数据接收：**

````c
"main.c -> 全局变量":
uint8_t rxbuf[10];
uint8_t sxbuf[] = "hello world";
"main.c -> while(1)": 
if(HAL_UART_Receive(&huart1, rxbuf, sizeof(rxbuf), 1000) == HAL_OK) {
	HAL_UART_Transmit(&huart1, sxbuf, sizeof(sxbuf), 1000);
}
HAL_Delay(500);
````

当通过串口工具发送<u>`uint8_t rxbuf[10]`大小的数据</u>，就会向**上位机**发送一次`hello world`。
