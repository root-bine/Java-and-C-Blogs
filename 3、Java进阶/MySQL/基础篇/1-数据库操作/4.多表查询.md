# 多表查询

## 1、<span style="color:brown">内连接：</span>

### <!--内连接查询的是两张表的交集部分-->

**1.1、分类：**

- 隐式内连接：`select  字段列表  from  表名列表   where  分组之前的条件限定;`
- 显式内连接：`select  字段列表  from  表名1  (inner)  join  表名2   on  条件;`

**1.2、范例：**





## 3、<span style="color:brown">外连接：</span>

**3.1、分类：**

- 左外连接：<span style="color:orange">**查询的是左边表，及其交集部分**</span>

  `select  字段列表  from  表名1  left  (outer)  join  表名2   on  条件;`

- 右外连接：<span style="color:green">**查询的是右边表，及其交集部分**</span>

  `select  字段列表  from  表名1  right  (outer)  join  表名2   on  条件;`

**3.2、范例：**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/%E8%8C%83%E4%BE%8B2.png" style="zoom:67%;" />



## 4、<span style="color:brown">子查询：</span>

**4.1、概念：**

在嵌套查询语句中，嵌套语句被称为：子查询。

**4.2、子查询结果为单行单列：**`运算符：>、>=、<、<=、=`

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/%E6%83%85%E5%86%B51.png" style="zoom:67%;" />

**4.3、子查询结果为多行单列：**`使用运算符in来判断`

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/%E6%83%85%E5%86%B52.png" style="zoom:67%;" />

**4.4、子查询结果为多行多列：**`子查询作为一张虚拟表`

![](https://raw.githubusercontent.com/root-bine/image/main/Typora-image/%E6%83%85%E5%86%B53-1.png)

![情况3.2](https://raw.githubusercontent.com/root-bine/image/main/Typora-image/%E6%83%85%E5%86%B53-2.png)

**4.5、范例：**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/%E8%8C%83%E4%BE%8B3.png" style="zoom:67%;" />

## 5、<span style="color:brown">案例：</span>

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/%E5%A4%9A%E8%A1%A8%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90.png" style="zoom:67%;" />



**题目1：**查询出部门编号、部门名称、部门位置、部门人数

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/%E5%A4%9A%E8%A1%A8%E9%A2%98%E7%9B%AE1.png" style="zoom:67%;" />



**题目2：**查询所有员工的姓名及其直接上级的姓名,没有领导的员工也需要查询

```apl
分析:
	1.姓名emp，直接上级的姓名emp
		*emp表的id 和mgr是自关联
	2.条件emp.id = emp.mgr
	3.查询左表的所有数据,和交集数据
		*使用左外连接查询
```

```java
SELECT
    t1.ename,
	t1.mgr,
	t2.id,
    t2.ename
FROM emp t1
LEFT JOIN emp t2
       ON t1.mgr =t2.id;
```

![](https://raw.githubusercontent.com/root-bine/image/main/Typora-image/%E5%A4%9A%E8%A1%A8%E9%A2%98%E7%9B%AE2%E7%BB%93%E6%9E%9C.png)