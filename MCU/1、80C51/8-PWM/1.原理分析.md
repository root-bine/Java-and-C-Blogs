## 1、<span style="color:brown">PWM：</span>

**1.1、概述：**

**PWM（Pulse-Width Modulation，脉冲宽度调制）**，本质上是一种**时间域的数字调制技术**。

一种通过**调整脉冲信号**的<span style="color:red">高电平持续时间（Ton）和低电平持续时间（Toff）的比例</span>来控制电路输出的技术。

**1.2、频率与占空比：**

| 频率（`f`） / 周期（`T`） | `f = 1 / T` | `T  = Ton + Toff` |
| :-----------------------: | :---------: | :---------------: |

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/PWM01.png" alt="image-20251012124949747" style="zoom:50%;" />

| 占空比（`Duty Cycle`，`D`） | `D = Ton / T` | 通常用百分比表示（`0% ~ 100%`） |
| :-------------------------: | :-----------: | :-----------------------------: |

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/PWM02.png" alt="image-20251012125126878" style="zoom:50%;" />





## 2、<span style="color:brown">PWM控制呼吸灯：</span>

```c
#include <reg52.h>
sbit led = P2^7;
int time = 0;
void Delay10us(unsigned int time) {	// 根据time决定执行多少次10us延时
	while(time--) {
		unsigned char data i;
		i = 2;
		while (--i);
	}
}
void main() {
	while(1) {
		for(time = 0;time < 300;time ++){ //从暗逐渐变亮的过程
			led = 0;
      		Delay10us(time);
      		led = 1;
      		Delay10us(300 - time);
    	}
    	for(time = 0;time < 300;time ++){ //从亮逐渐变暗的过程
      		led = 1;
      		Delay10us(time);
      		led = 0;
      		Delay10us(300 - time);
    	}
  	}
}
```

利用**软件空转延时方法**，设置单次延时为**10 us**。

根据`time`，来动态调整一个周期中`Ton`和`Toff`的比例，从而实现由暗到亮，再由亮到暗的渐变过程。