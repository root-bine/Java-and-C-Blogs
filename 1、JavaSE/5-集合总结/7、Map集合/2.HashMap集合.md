# HashMap存储自定义类型键值

## 1、概述：</span>

**1.1、基础内容：**

1. java.util.HashMap<K,V>集合 implements Map<K,V>接口;

2. <span style="color:red">HashMap的底层是：哈希表，查询速度快;</span>

   - JDK1.8之前，哈希表=数组+单向链表
   - JDK1.8之后：
     - array<64 && linked list<8：哈希表=数组+单向链表
     - array>=64 && linklist >=8：哈希表=数组+红黑树

3. <span style="color:red">多线程集合, 但线程不安全, 查询速度快</span>

4. HashMap集合是一个无序的集合，存储和取出的元素顺序不一样;

5. `key不允许重复，value可以重复，且无序`

   ```apl
   如果key重复, 那么value的值就会被新的value替换
   ```

**1.2、HashMap集合的特征：**

1. <span style="color:red">`HashMap集合可以存储null值、null键；`</span>
2. HashMap初始容量为：16
3. HashMap的重要特征有：
   - 扩容极限
   - 负载因子 (load factor)
   - 容量 (capacity)

**1.3、HashMap集合何时扩容？**

- 当 hashmap 中的元素个数超过数组大小 loadFactor 时，就会进行数组扩容；
- 默认情况下，loadFactor 的默认值为 0.75，数组大小为 16；
- 当 hashmap 中元素个数超过 160.75=12 的时候，就把数组的大小扩大一倍，然后重新计算每个元素在数组中的位置；




## 2、<span style="color:brown">自定义类型键值存储：</span>

**2.1、要求：**

`Map集合要求key值唯一`

```apl
作为key的元素, 必须重写hashCode()、equals()方法, 保证key值的唯一性
```

**2.2、范例：**

```java
public class Text04 {
    public static void main(String[] args) {
        //show01();
        show02();
    }

    private static void show02() {
        /**
         * key:Employer
         *      此处需要Employer类重写hashCode()、equals()
         * value:String
         *
         * Employer{name='李白', age=65}---->骊山
         * Employer{name='李世民', age=55}---->秦国
         * Employer{name='张三丰', age=125}---->武当
         */
        HashMap<Employer, String> map = new HashMap<>();
        map.put(new Employer("张三丰",125),"武当");
        map.put(new Employer("李世民",55),"唐朝");
        map.put(new Employer("李白",65),"骊山");
        map.put(new Employer("李世民",55),"秦国");
        Set<Map.Entry<Employer, String>> set = map.entrySet();
        for (Map.Entry<Employer,String> entry:set) {
            Employer key = entry.getKey();
            String value = entry.getValue();
            System.out.println(key+"---->"+value);
        }
    }

    private static void show01() {
        /**
         * key:String
         * value:Employer
         *
         * Java---->Employer{name='Tom', age=25}
         * C++---->Employer{name='Bob', age=42}
         * Python---->Employer{name='Jerry', age=52}
         */
        HashMap<String, Employer> map = new HashMap<>();
        map.put("Java",new Employer("Tom",25));
        map.put("Python",new Employer("Jerry",52));
        map.put("C++",new Employer("Bob",42));
        Set<String> set = map.keySet();
        Iterator<String> iterator = set.iterator();
        while(iterator.hasNext()){
            String key = iterator.next();
            Employer value = map.get(key);
            System.out.println(key+"---->"+value+" ");
        }
    }
}
```

