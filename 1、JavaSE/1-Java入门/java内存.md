# java内存

## <!--Java编程语言只有值传递，并没有引用传递-->

## 1、<span style="color:brown">基础内容：</span>

- 栈【Stack】：

  - <font color="red">**存放的都是方法中的局部变量；**</font>

  - <font color="#0099ff">方法一定是要在栈中运行</font>
  - 局部变量：方法中的参数或者方法｛｝内部的变量；
  - 作用域：一旦超出作用域，立刻就会从内存中释放；
- 堆【Heap】：

  - <font color="red">**凡事new出来的东西，都存放在Heap中**</font>；

  - <font color="orange">**字符串常量池也存在Heap中**</font>；
  - <u>方法中的局部 变量使用 final 修饰后，放在堆中</u>；
  - 堆内存中的东西都有一个<font color="#0099">**地址值**</font>：16进制；
  - 堆内存中的数据都有一个默认值，规则：
    - 如果是整数					默认为0；
    - 如果是浮点数				默认为0.0；
    - 如果是字符					默认为'\u0000'；
    - 如果是布尔值				默认为false；
    - 如果是引用类型			默认为null；
- 方法区【Method Area】：
  - <font color="#0099ff">**存储  .class文件相关信息，包含方法的信息；**</font>
  - <font color='red'>**该区存在一个静态区**</font>【static静态代码块】
    - 程序中的字面量（literal）如直接书写的 100、“hello”和常量都 是放在静态存储区
- 本地方法区【Native Method Area】：与操作系统有关；
- 寄存器【pc Register】：与CPU相关；



## 2、<span style="color:brown"> heap 和 stack 的区别：</span>

**Java 的内存分为两类，一类是栈内存，一类是堆内存**。

- 栈内存：

  - 程序进入一个方法 时，会为这个方法单独分配一块私属存储空间，用于存储这个方法内部的局部变量；

  - 当这个方法结束时，分配给这个方法的栈会释放，这个栈中的变量也将随之释放；

- 堆内存：

  堆是与栈作用不同的内存，一般用于存放不放在当前方法栈中的那些数据，<u>**它不会随方法的结束而消失**</u>；