## 1、<span style="color:brown">参数说明：</span>

**1.1、Master features：**

| Standard Mode：标准模式 | Fast Mode：高速模式 |
| :---------------------: | :-----------------: |

这两种模式支持的**通讯速率不同**：

- 在标准模式中，最大只能设置`100 KHz`；
- 在高速模式中，最大只能设置`400 KHz`；

作为`Master`时，**速率大小**要看**Slave支持的最大速率**。

**1.2、Slave features：**

<u>`Clock No Stretch Mode` (时钟没有扩展模式)</u>： 

- `clock stretching`通过将**SCL线拉低**来**暂停一个传输**，直到释放**SCL线为高电平**，**传输才继续进行**；
- `clock stretching`是**可选的**，因为<u>**大多数从设备不包括SCL驱动**</u>；

<u>`Primary Address Length selection` (从设备地址长度)</u>：

- 设置`Slave`的`Address`是`7 bit / 10 bit`，<span style="color:red">大部分为`7 bit`</span>；

<u>`Dual Address Acknowledged`</u>：双地址确认；
<u>`Primary slave address`</u>：从设备初始地址；



## 2、<span style="color:brown">函数说明：</span>

**2.1、单字节收发：**

````c
"IIC Write 1 Byte of Data":
HAL_I2C_Master_Transmit(I2C_HandleTypeDef *hi2c, uint16_t DevAddress, uint8_t *pData, uint16_t Size, 								uint32_t Timeout);
"IIC Read 1 Byte of Data":
HAL_I2C_Master_Receive(I2C_HandleTypeDef *hi2c, uint16_t DevAddress, uint8_t *pData, uint16_t Size, 
                       uint32_t Timeout);
````

**2.2、多字节收发：**

````c
"IIC Write Bytes of Data":
HAL_I2C_Mem_Write(I2C_HandleTypeDef *hi2c, uint16_t DevAddress, uint16_t MemAddress, uint16_t MemAddSize,
                  uint8_t *pData, uint16_t Size, uint32_t Timeout);
"IIC Read Bytes of Data":
HAL_I2C_Mem_Read(I2C_HandleTypeDef *hi2c, uint16_t DevAddress, uint16_t MemAddress, uint16_t MemAddSize,
                 uint8_t *pData, uint16_t Size, uint32_t Timeout);
````

<u>`MemAddress`</u>，每写入一个字节数据，**地址就会自动+1**；
<u>`MemAddSize`</u>，<u>**Slave寄存器地址**字节长度</u>：

| `8 bit`：`I2C_MEMADD_SIZE_8BIT` | `16 bit`：`I2C_MEMADD_SIZE_16BIT` |
| :-----------------------------: | :-------------------------------: |



## 3、<span style="color:brown">SMBus：</span>

**3.1、说明：**

`SMBus` (**系统管理总线**—`System Management Bus`)，和**`I2C`是比较类似**的，所以**`STM32`兼容了这两种设计**。

**3.2、对比：**

|                SMBus                 |                             I2C                              |
| :----------------------------------: | :----------------------------------------------------------: |
|        ❗最大传输速度`100 kHz`        |                    ❗最大传输速度`400 kHz`                    |
|        ❗最小传输速度`10 kHz`         |                       ❗无最小传输速度                        |
|          ❗`35 ms`时钟低超时          |                         ❗无时钟超时                          |
|           ✔️固定的逻辑电平            |                     ✔️逻辑电平由`VDD`决定                     |
|   不同的地址类型(保留的、动态的等)   | <span style="color:red">`7 bit`、`10 bit`、广播呼叫`Slave Address`</span> |
| 不同的总线协议(快速命令、处理呼叫等) |          <span style="color:red"> 无总线协议</span>          |

