# IO异常处理

## JDK1.7之前：try--catch--finally

```java
public class Demo07 {
    public static void main(String[] args) {
        //提升fw的使用范围，并且基于初始化
        FileWriter fw = null;
        try {
            fw = new FileWriter("D:\\JavaCode\\File_code\\c.txt",true);
            for (int i = 0; i < 5; i++) {
                fw.write("Hello World!!"+"\r\n");
            }
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            if(fw != null){
                try {
                    //如果对象fw = new FileWriter("D:\\JavaCode\\File_code\\c.txt",true);创建失败
                    //但是fw的初始值是null，null无法调用方法，会报出空指针异常的提示
                    fw.flush();
                    fw.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }
    }
}
```

## JDK1.7新特性：try(流对象1；流对象2；...)--catch

```java
public class Demo07 {
    public static void main(String[] args) {
        //这种try()--catch方法，不仅不需要将fw的使用范围扩大，还省略了fw.close()
        try(FileWriter fw = new FileWriter("D:\\JavaCode\\File_code\\c.txt",true);) {
            
            for (int i = 0; i < 5; i++) {
                fw.write("Hello World!!"+"\r\n");
            }
            fw.flush();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```
