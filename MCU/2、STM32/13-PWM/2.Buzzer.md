## 1、<span style="color:brown">蜂鸣器：</span>

**1.1、介绍：**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/Buzzer01.png" alt="image-20251010160619267" style="zoom: 50%;" />

蜂鸣器是<u>一种将**电信号**转换为**声音信号**的器件</u>。

**蜂鸣器有正负极**，顶部印有**`+`号**的为正极，若蜂鸣器引脚没剪，则**长的为正极**。

**1.2、分类：**

有源蜂鸣器：**内部自带振荡源**，将**正负极接上直流电压**即可持续发声，**频率固定**；

无源蜂鸣器：<span style="color:red">内部不带振荡源</span>，需要**MCU提供振荡脉冲**才可发声，**调整提供振荡脉冲的频率**，可发出**不同频率的声音**；



## 2、<span style="color:brown">信号说明：</span>

**2.1、支持频率**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/Buzzer02.png" alt="image-20251010161211876" style="zoom: 50%;" />

实验板使用`Buzzer`是**无源蜂鸣器**，型号为`SMD-8503-3627-16Q`，上图为该款所支持的频率范围。

**2.2、GPIO周期：**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/Buzzer03.png" alt="55C4657D8372CB4CFE2580EC3C41270B" style="zoom: 15%;" />

**2.3、原理图：**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/STM32_Buzzer_01.png" alt="image-20251202172051013" style="zoom:55%;" />

三极管`Q5`**起开关作用**：

|          `LOW_LEVEL`          |         `HIGH_LEVEL`          |
| :---------------------------: | :---------------------------: |
| 三极管饱和导通 + `Buzzer`发声 | 三极管关闭 + `Buzzer`停止发声 |



## 3、<span style="color:brown">功能实现：</span>

参照《PWM-1.原理分析》设置定时器与PWM参数：

- 使用通用定时器`Timer2-Channel4`；

````c
HAL_TIM_PWM_Start(&htim2, TIM_CHANNEL_4);
uint16_t pwm_value = 0;
while (1) {
	while(pwm_value < 500) {
		pwm_value++;
		__HAL_TIM_SET_COMPARE(&htim2, TIM_CHANNEL_4, pwm_value);
		HAL_Delay(1);
	}
	while (pwm_value > 1) {
		pwm_value--;
        __HAL_TIM_SetCompare(&htim2, TIM_CHANNEL_4, pwm_value);
        HAL_Delay(1);
    }
    HAL_Delay(200);
}
````

