## 1、<span style="color:brown">原理分析：</span>

**1.1、RS-485原理图：**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/STM32_RS485_04.png" alt="image-20251127193449335" style="zoom:35%;" />

`Q1`是**N型MOS管**:

- 当**TXD高电平**，MOS管导通，RE DE引脚接地，进入接收模式。

- 当**TXD低电平**，MOS管截止，RE DE引脚接高电平，进入发送模式。



发送数据过程 发送数据，用的是单片机的TX引脚，也就是说，在TX引脚上表现数据。要发送数据0x32，写成二进制就是0x00110010，TXD引脚上就会依次的用高低电平体现1和0。 当TX发送0时，三极管不导通，DE接高电平，进入发送模式，485芯片会把DI上的电平反应到AB引脚上输出，因为DI已经接地，所以AB引脚会传输0。所以，当TXD发送0时，AB引脚发送0。 当TX发送1时，三极管导通，RE接低电平，进入接收模式，485芯片的AB引脚进入高阻状态，因为R2把A拉高，R1把B拉低，所以，AB传输的是1。所以，当TXD发送1时，AB引脚发送1。 一句话：TXD发1，AB就发1；TXD发0，AB就发0。



 接收数据过程 接收数据，用的是单片机引脚RX，在RXD引脚上表现数据。在接收数据的过程中，TX引脚是一直保持高电平的，当TXD是高电平时，RE是低电平，正好变成了接收状态，然后485芯片的RO引脚（也就是接RX的引脚）就会接收AB传输过来的数据。