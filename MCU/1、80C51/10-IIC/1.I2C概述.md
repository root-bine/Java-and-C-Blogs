## 1、<span style="color:brown">I2C介绍：</span>

**1.1、简介：**

**`IIC`协议**，又称**`I2C`协议**，是由`PHILP`公司在`80`年代开发的<span style="color:red">**两线式串行总线**</span>，用于**连接各类外设及设备**。

**1.2、I2C与UART：**

<u>`UART`</u>：<span style="color:green">串行通信协议</span> 

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/IIC01.png" alt="image-20251024171718314" style="zoom: 50%;" />

<u>`I2C`</u>：<span style="color:green">串行通信协议</span> 

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/IIC02.png" alt="image-20251024171811710" style="zoom:50%;" />

|   特性   |                       UART                       |                       I2C                        |
| :------: | :----------------------------------------------: | :----------------------------------------------: |
| 硬件线路 |        TX（发送）, RX（接收）, GND（地）         |           SDA（数据线）, SCL（时钟线）           |
| 通信拓扑 |  <span style="color:red">异步的、点对点</span>   |  <span style="color:red">同步的、多主从</span>   |
| 数据传输 | <span style="color:red">全双工，LSB-First</span> | <span style="color:red">半双工，MSB-First</span> |
| 数据速率 |                    **波特率**                    |                  **`SCL`频率**                   |
| 应用场景 |                 内部模块间的通信                 |            与各类外设、设备之间的通信            |



## 2、<span style="color:brown">I2C组成：</span>

**2.1、硬件组成：**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/IIC03.png" alt="image-20251024172629122" style="zoom:50%;" />

**`I2C`总线**会连接**上拉电阻**，因此在<u>`SCL`、`SDA`的电平都为`HIGH_LEVEL`</u>时，代表总线处于**空闲状态**。

**2.2、C51实验板卡：**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/IIC04.png" alt="image-20251024174241772" style="zoom: 40%;" />

板卡使用`STC89C52RC/RD+` ，在板卡集成一个温湿度传感器，采用**`I2C`通信模式**，IO端口：`P0.1`、`P0.2`。



## 3、<span style="color:brown">I2C数据：</span>

**3.1、主从机制：**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/IIC05.png" alt="image-20251024173648693" style="zoom:80%;" />

在`Master-Slave`通信中，<u>每个`Slave`</u>都有<span style="color:red">**唯一地址**</span>（通常 7 位）。

**3.2、SCL-SDA波形：**

`Master`通过`I2C`发送数据：`0xF5 = 0b1111 0101`，在`SCL`与`SDA`波形如下：

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/IIC06.png" alt="image-20251024174754167" style="zoom:50%;" />

上述图中反映出一些信息：

- `I2C`的**有效数据**，是在**`SCL`高电平**时**读取的`SDA`电平**；
- `I2C`的通信速率，是由**`SCL`的速率**决定的；
