## 1、<span style="color:brown">Relay介绍：</span>

**1.1、概述：**

**功率继电器**本质上是一个**开关**，具有功能：

- 隔离功能；
- 支持低压控制高压；

**1.2、分类：**

常见继电器有**四脚继电器**、**五脚继电器**，结构图如下：

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/Relay01.png" alt="image-20251116185453639" style="zoom:80%;" />

两种继电器原理是一样的，区别在于**五脚继电器有一个长闭合的3号引脚**。



## 2、<span style="color:brown">Relay控制：</span>

**2.1、限制条件：**

实验板卡使用**四脚继电器**，参数如下：

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/Relay02.png" alt="image-20251116185739343" style="zoom:75%;" />

❗在实际操作过程中，<u>外接设备的`Voltage`与`Current`</u>，不能超过`Relay`的**承受范围**。

**2.2、原理图说明：**

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/Relay03.png" alt="image-20251116190908996" style="zoom: 50%;" />

通过**IO输出高低电平**，控制**三极管开关**，进而**控制继电器打开或关闭**：

- 当`RELAY1`为`HIGH_LEVEL`，`Q2 / Q6`导通，继电器线圈工作；
- 磁场会把**活动触点吸下来**，继电器闭合，从而控制`U11 / U31`的`1`，`2`连通；

**2.3、工程代码：**

`RELAY1`连接芯片`PA12`引脚，设置为`GPIO Output`：

<img src="https://raw.githubusercontent.com/root-bine/image/main/Typora-image/Relay04.png" alt="image-20251116192458929" style="zoom:50%;" />

```c
/*每隔2s, Relay响一次*/
// ================= 方式1 =================
HAL_GPIO_WritePin(RELAY1_GPIO_Port, RELAY1_Pin, GPIO_PIN_RESET);
HAL_Delay(1000);
HAL_GPIO_WritePin(RELAY1_GPIO_Port, RELAY1_Pin, GPIO_PIN_SET);
HAL_Delay(1000);
// ================= 方式2 =================
HAL_GPIO_TogglePin(RELAY1_GPIO_Port, RELAY1_Pin );
HAL_Delay(2000);
```

